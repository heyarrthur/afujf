<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AFUJF – Carteirinha</title>

  <!-- Bootstrap + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

  <style>
    :root{
      --g1:#12c26d;  --g2:#0ea5a7;  --g3:#1366d6;
      --ink:#eef6ff; --glass: rgba(255,255,255,.10); --glass-2: rgba(255,255,255,.16);
      --title:#0c3a62; --muted:#7487a4;
    }

    body{
      background:
        radial-gradient(1400px 800px at -10% -10%, #20c07a22, transparent 60%),
        radial-gradient(1200px 700px at 110% -20%, #0ea5a733, transparent 65%),
        linear-gradient(180deg, #f7fbff 0%, #eaf3ff 100%);
    }

    /* ===== Launcher / Navbar ===== */
    .corner-launcher{ position:fixed; top:.75rem; left:.75rem; width:68px; height:68px; border:0; border-radius:35px;
      background:linear-gradient(150deg,var(--g1),var(--g2) 45%,var(--g3)); display:grid; place-items:center; color:#fff;
      box-shadow:0 18px 38px rgba(0,0,0,.28), inset 0 1px 0 rgba(255,255,255,.22); cursor:pointer; z-index:1061;
      transition:transform .15s, box-shadow .2s, filter .2s, opacity .2s; -webkit-tap-highlight-color:transparent;}
    .corner-launcher:hover{ transform:translateY(-2px); box-shadow:0 24px 44px rgba(0,0,0,.32), inset 0 1px 0 rgba(255,255,255,.22); }
    .corner-launcher.hidden{ opacity:0; transform:translate(-10px,-10px) scale(.96); pointer-events:none; }
    .af-badge{ width:48px; height:48px; border-radius:50%; object-fit:cover; display:block; box-shadow:0 12px 26px rgba(0,0,0,.35); }

    .offcanvas-afujf{ width:340px; color:#fff; border-right:0;
      background:linear-gradient(180deg,var(--g1),var(--g2) 40%,var(--g3)); box-shadow:6px 0 26px rgba(0,0,0,.35);}
    .offcanvas-afujf .offcanvas-header{ border-bottom:1px solid rgba(255,255,255,.15); }
    .brand-badge-img{ width:44px; height:44px; border-radius:50%; object-fit:cover; box-shadow:0 8px 18px rgba(0,0,0,.35); }
    .brand-title-img{ max-height:28px; filter:drop-shadow(0 2px 6px rgba(0,0,0,.25)); }
    .menu-list{ list-style:none; margin:0; padding:.25rem 0;}
    .menu-link{ display:flex; align-items:center; gap:.9rem; color:#fff; text-decoration:none; padding:.9rem 1rem;
      border-radius:14px; margin:.2rem 0; transition:background .2s, transform .15s, box-shadow .2s;}
    .menu-link:hover{ background:var(--glass); transform:translateX(3px); box-shadow:0 10px 20px rgba(0,0,0,.25);}
    .menu-link.active{ background:var(--glass-2); box-shadow:0 14px 32px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.25);}
    .menu-divider{ height:1px; background:rgba(255,255,255,.18); margin:.75rem 0 1rem; border-radius:2px;}

    /* ===== Page structure ===== */
    main{ padding:110px 16px 56px; }
    .section{ max-width:1000px; margin:0 auto 32px; }
    .section-title{ display:flex; align-items:center; gap:.75rem; font-weight:900; color:var(--title); margin-bottom:16px;}
    .section-title .chip{ width:44px; height:44px; border-radius:14px; display:grid; place-items:center; color:#fff;
      background:linear-gradient(150deg,var(--g1),var(--g2) 45%,var(--g3));
      box-shadow:0 10px 22px rgba(0,0,0,.18), inset 0 1px 0 rgba(255,255,255,.25); font-size:1.25rem;}
    .section-sub{ color:var(--muted); margin-top:-8px; }

    /* ===== Carteirinha ===== */
    .card-shell{ position:relative; border-radius:28px; padding:1px; overflow:hidden;
      background:linear-gradient(135deg,#ffffffaa,#cfe7ff88); box-shadow:0 22px 60px rgba(18,60,110,.18); backdrop-filter:blur(6px);}
    .carteirinha{ position:relative; border-radius:27px; overflow:hidden; color:var(--ink);
      background: radial-gradient(1200px 480px at 0% -20%, #19c079 0%, transparent 60%),
                  linear-gradient(155deg,#0aa86a 0%,#0ea5a7 32%,#0b79d4 100%);
      padding:22px;}
    .carteirinha::before{ content:''; position:absolute; inset:10px; border-radius:22px; z-index:1;
      box-shadow:inset 0 0 0 2px rgba(255,255,255,.18), inset 0 0 120px rgba(255,255,255,.05);}
    .carteirinha::after{ content:''; position:absolute; inset:-30%;
      background:linear-gradient(100deg,rgba(255,255,255,0) 42%,rgba(255,255,255,.38) 50%,rgba(255,255,255,0) 58%);
      transform:translateX(-120%) rotate(8deg); filter:blur(1px); animation:shine 6.5s ease-in-out infinite; z-index:1;}
    @keyframes shine{0%,8%{transform:translateX(-120%) rotate(8deg);opacity:0}14%,18%{opacity:.75}28%,100%{transform:translateX(120%) rotate(8deg);opacity:0}}
    .c-inner{ position:relative; z-index:2; }
    .c-top{ display:flex; align-items:center; gap:.9rem; flex-wrap:wrap; color:#fff; font-weight:800; letter-spacing:.2px;}
    .brand-chip{ width:54px; height:54px; border-radius:18px; display:grid; place-items:center; flex:0 0 auto;
      background:linear-gradient(150deg,var(--g1),var(--g2) 45%,var(--g3));
      box-shadow:0 10px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.25);}
    .brand-chip img{ width:70%; height:70%; object-fit:contain; filter:drop-shadow(0 2px 6px rgba(0,0,0,.35));}
    .assoc{ font-size:clamp(1rem,2.4vw,1.35rem); text-shadow:0 1px 0 rgba(0,0,0,.25);}
    .c-holder{ margin:18px 2px 6px; color:#fff; font-weight:800; font-size:clamp(1rem,2.8vw,1.18rem); text-shadow:0 1px 0 rgba(0,0,0,.2);}
    .c-row{ display:flex; align-items:center; justify-content:space-between; gap:1rem; flex-wrap:wrap;}
    .c-info{ display:flex; align-items:center; gap:1.25rem; flex-wrap:wrap;}
    .entry{ display:flex; align-items:center; gap:.65rem; color:#fff;}
    .label{ font-weight:900; opacity:.95;} .value{ font-weight:700; letter-spacing:.06em;}
    .c-divider{ width:1px; height:22px; background:rgba(255,255,255,.65); border-radius:1px;}
    .btn-view{ background:#fff; color:#083a69; font-weight:800; border:0; border-radius:12px; padding:.65rem 1.1rem;
      box-shadow:0 10px 24px rgba(0,0,0,.22); text-decoration:none; display:inline-block; transition:transform .15s, box-shadow .2s;}
    .btn-view:hover{ transform:translateY(-1px); box-shadow:0 14px 28px rgba(0,0,0,.26);}

    /* ===== Info & Ajuda ===== */
    .info-grid{ display:grid; grid-template-columns:1fr; gap:18px;}
    @media (min-width:992px){ .info-grid{ grid-template-columns:1fr 1fr; } }
    .info-card{ border-radius:20px; background:#fff; padding:18px 18px 14px; box-shadow:0 18px 40px rgba(12,52,100,.10);}
    .info-card hr{ margin:16px 0; opacity:.15; }
    .info-title{ font-weight:800; color:#183a5a; }
    .info-list{ margin:12px 0 0 0; padding:0; list-style:none;}
    .info-list li{ position:relative; padding-left:28px; margin:.55rem 0; color:#1d3553;}
    .info-list li::before{ content:""; position:absolute; left:0; top:.4rem; width:12px; height:12px; border-radius:50%;
      background:radial-gradient(circle at 30% 30%,#2ee59d,#07b48c 60%); box-shadow:0 2px 6px rgba(0,0,0,.18);}
    .info-link{ color:#1366d6; font-weight:800; text-decoration:none;} .info-link:hover{ text-decoration:underline;}
    .hint{ color:#6c86a6; font-size:.92rem;}
    .help-actions{ display:flex; gap:.7rem; flex-wrap:wrap; }
    .btn-mail{ border:0; border-radius:999px; padding:.7rem 1rem; font-weight:800;
      background:linear-gradient(150deg,var(--g1),var(--g2) 45%,var(--g3)); color:#fff; box-shadow:0 12px 24px rgba(0,0,0,.18);}
    .btn-wa{ border:1px solid #cfe0f3; background:#fff; color:#1b466e; font-weight:800; border-radius:999px; padding:.7rem 1rem;}

    /* ===== Modal fullscreen da carteirinha ===== */
    .modal-content.bg-transparent{ background:transparent !important; }
    .modal-fullscreen .close-floating{
      position:absolute; top:12px; right:12px; z-index:2;
      filter:drop-shadow(0 2px 8px rgba(0,0,0,.35));
    }
    .zoom-in{ animation: zoomIn .18s ease-out both; }
    @keyframes zoomIn{ from{ transform:scale(.96); opacity:.0 } to{ transform:scale(1); opacity:1 } }
    .card-shell-lg{ max-width:920px; width:100%; }
  </style>
</head>
<body>

  <!-- Botão fixo (topo-esquerdo) -->
  <button id="af-launcher" class="corner-launcher" type="button" aria-label="Abrir menu">
    <img src="af-badge.png" alt="AFUJF" class="af-badge">
  </button>

  <!-- Offcanvas / Navbar lateral -->
  <div class="offcanvas offcanvas-start offcanvas-afujf" tabindex="-1" id="menuAFUJF" aria-labelledby="menuAFUJFLabel">
    <div class="offcanvas-header align-items-center">
      <div class="d-flex align-items-center gap-3">
        <img src="af-badge.png" alt="AFUJF" class="brand-badge-img">
        <div>
          <img id="menuAFUJFLabel" src="afujf.png" alt="AFUJF" class="brand-title-img">
          <small class="opacity-75">Navegação</small>
        </div>
      </div>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Fechar"></button>
    </div>

    <div class="offcanvas-body d-flex flex-column">
      <ul class="menu-list">
        <li><a class="menu-link" href="index.html"><i class="bi bi-house-door"></i> Home</a></li>
        <li><a class="menu-link active" href="carteirinha.html"><i class="bi bi-person-badge"></i> Minha Carteirinha</a></li>
        <li><a class="menu-link" href="convenios.html"><i class="bi bi-bag-heart"></i> Convênios</a></li>
        <li><a class="menu-link" href="eventos.html"><i class="bi bi-calendar-event"></i> Eventos</a></li>
        <li><a class="menu-link" href="#"><i class="bi bi-receipt"></i> Faturas</a></li>
      </ul>
      <div class="menu-divider"></div>
      <div class="mt-auto">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <div class="fw-semibold">Usuário</div>
            <div class="opacity-75">Visitante</div>
          </div>
          <button class="btn btn-outline-light px-3" type="button">
            <i class="bi bi-box-arrow-in-right me-1"></i> Entrar
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- CONTEÚDO -->
  <main>
    <!-- Título -->
    <section class="section">
      <div class="section-title">
        <span class="chip"><i class="bi bi-person-badge"></i></span>
        <div>
          <div class="h4 m-0 fw-bold">Minha Carteirinha</div>
          <div class="section-sub">Visualize seus dados do associado e instruções de uso.</div>
        </div>
      </div>

      <!-- Carteirinha -->
      <div class="card-shell">
        <div class="carteirinha" role="region" aria-label="Carteirinha AFUJF">
          <div class="c-inner">
            <div class="c-top">
              <div class="brand-chip"><img src="afujf.png" alt="AFUJF"></div>
              <div class="assoc">Associação de Funcionários Unimed Juiz de Fora</div>
            </div>
            <div id="cardNome" class="c-holder">Nome Sobrenome</div>
            <div class="c-row">
              <div class="c-info">
                <div class="entry"><span class="label">N°:</span> <span id="cardNumero" class="value">1021004-7332</span></div>
                <div class="c-divider"></div>
                <div class="entry"><span class="label">Validade:</span> <span id="cardValidade" class="value">09/2026</span></div>
              </div>
              <!-- Abre modal em tela cheia -->
              <button class="btn-view" data-bs-toggle="modal" data-bs-target="#modalCarteirinha">Visualizar Carteirinha</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Informações & Ajuda -->
    <section class="section">
      <div class="section-title">
        <span class="chip"><i class="bi bi-life-preserver"></i></span>
        <div>
          <div class="h4 m-0 fw-bold">Informações & Ajuda</div>
          <div class="section-sub">Dúvidas rápidas sobre uso da carteirinha e suporte ao associado.</div>
        </div>
      </div>

      <div class="info-grid">
        <div class="info-card">
          <div class="info-title">Informações</div>
          <p class="mt-2 mb-2">Como utilizar sua carteirinha digital nos convênios credenciados.</p>
          <ul class="info-list">
            <li>Apresente este cartão digital com o <strong>Nº</strong> e a <strong>Validade</strong> visíveis.</li>
            <li>Leve um documento oficial com foto para confirmação de identidade.</li>
            <li>Verifique a lista de parceiros na página <a class="info-link" href="convenios.html">Convênios AFUJF</a>.</li>
            <li>Para descontos, confirme as <strong>regras do convênio</strong> no estabelecimento.</li>
          </ul>
          <hr>
          <div class="hint">Dica: salve a página no atalho da tela inicial do seu celular para acesso mais rápido.</div>
        </div>

        <div class="info-card">
          <div class="info-title">Ajuda</div>
          <p class="mt-2 mb-2">Canais para falar com a AFUJF e resolver pendências da carteirinha.</p>
          <ul class="info-list">
            <li>Atualização de dados cadastrais (matrícula, validade, status).</li>
            <li>Dúvidas sobre convênios, descontos e elegibilidade.</li>
            <li>Reportar inconsistências de exibição ou acesso.</li>
          </ul>
          <hr>
          <div class="help-actions">
            <a class="btn-mail" href="mailto:suporte@afujf.org?subject=Ajuda%20com%20a%20carteirinha"><i class="bi bi-envelope-fill me-1"></i>Enviar e-mail</a>
            <a class="btn-wa" href="#" target="_blank" rel="noopener"><i class="bi bi-whatsapp me-1"></i>Falar no WhatsApp</a>
          </div>
          <div class="hint mt-2">Horário de atendimento: seg–sex, 9h às 17h.</div>
        </div>
      </div>
    </section>
  </main>

  <!-- MODAL FULLSCREEN: Carteirinha -->
  <div class="modal fade" id="modalCarteirinha" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen">
      <div class="modal-content bg-transparent border-0 shadow-none">
        <!-- Botão X flutuante -->
        <button type="button" class="btn-close btn-close-white close-floating" data-bs-dismiss="modal" aria-label="Fechar"></button>

        <!-- Centro absoluto -->
        <div class="d-flex align-items-center justify-content-center vh-100 p-3">
          <div class="card-shell card-shell-lg zoom-in">
            <div class="carteirinha" aria-label="Carteirinha AFUJF – fullscreen">
              <div class="c-inner">
                <div class="c-top">
                  <div class="brand-chip"><img src="afujf.png" alt="AFUJF"></div>
                  <div class="assoc">Associação de Funcionários Unimed Juiz de Fora</div>
                </div>
                <div id="cardNomeModal" class="c-holder">Nome Sobrenome</div>
                <div class="c-row">
                  <div class="c-info">
                    <div class="entry"><span class="label">N°:</span> <span id="cardNumeroModal" class="value">1021004-7332</span></div>
                    <div class="c-divider"></div>
                    <div class="entry"><span class="label">Validade:</span> <span id="cardValidadeModal" class="value">09/2026</span></div>
                  </div>
                  <span class="d-none"></span>
                </div>
              </div>
            </div>
          </div>
        </div><!-- /center -->
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    (() => {
      // Offcanvas + launcher
      const launcher = document.getElementById('af-launcher');
      const offcanvasEl = document.getElementById('menuAFUJF');
      const offcanvas = bootstrap.Offcanvas.getOrCreateInstance(offcanvasEl, { backdrop:true, scroll:true, keyboard:true });
      launcher.addEventListener('click', e => { e.preventDefault(); offcanvas.toggle(); });
      offcanvasEl.addEventListener('show.bs.offcanvas',  () => launcher.classList.add('hidden'));
      offcanvasEl.addEventListener('hidden.bs.offcanvas', () => launcher.classList.remove('hidden'));
      document.querySelectorAll('.menu-link').forEach(a => a.addEventListener('click', () => offcanvas.hide()));

      // Dados (mock) — substitua pelo backend
      const dados = { nome:'Nome Sobrenome', numero:'1021004-7332', validade:'09/2026' };
      document.getElementById('cardNome').textContent    = dados.nome;
      document.getElementById('cardNumero').textContent  = dados.numero;
      document.getElementById('cardValidade').textContent= dados.validade;

      // Sincroniza conteúdo do modal ao abrir
      const modalEl = document.getElementById('modalCarteirinha');
      modalEl.addEventListener('show.bs.modal', () => {
        document.getElementById('cardNomeModal').textContent     = dados.nome;
        document.getElementById('cardNumeroModal').textContent   = dados.numero;
        document.getElementById('cardValidadeModal').textContent = dados.validade;
      });

      // >>> Fechar modal clicando FORA da carteirinha <<<
      const modalContent = document.querySelector('#modalCarteirinha .modal-content');
      modalContent.addEventListener('click', (ev) => {
        const card = document.querySelector('#modalCarteirinha .card-shell-lg');
        if (card && !card.contains(ev.target)) {
          const inst = bootstrap.Modal.getInstance(modalEl);
          inst && inst.hide();
        }
      });
      // (Esc e botão X já fecham pelo Bootstrap)
    })();
  </script>
</body>
</html>
